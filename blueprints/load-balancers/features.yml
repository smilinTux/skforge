# Load Balancer Features Catalog
# Comprehensive feature set based on HAProxy, Nginx, Traefik, Envoy, Caddy, AWS ALB/NLB, F5, Cloudflare

categories:
  core:
    name: "Core Load Balancing"
    description: "Essential load balancing functionality"
    features:
      - name: "round_robin"
        description: "Distribute requests sequentially across backends"
        complexity: "low"
        dependencies: []
        default: "on"
        
      - name: "weighted_round_robin"
        description: "Round robin with server weights for capacity differences"
        complexity: "low"
        dependencies: ["round_robin"]
        default: "on"
        
      - name: "least_connections"
        description: "Route to backend with fewest active connections"
        complexity: "medium"
        dependencies: ["connection_tracking"]
        default: "off"
        
      - name: "weighted_least_connections"
        description: "Least connections adjusted by server weights"
        complexity: "medium"
        dependencies: ["least_connections", "weighted_round_robin"]
        default: "off"
        
      - name: "ip_hash"
        description: "Hash client IP for session affinity"
        complexity: "low"
        dependencies: []
        default: "off"
        
      - name: "consistent_hashing"
        description: "Distributed hashing with minimal disruption on server changes"
        complexity: "high"
        dependencies: ["ip_hash"]
        default: "off"
        
      - name: "random"
        description: "Randomly select backend server"
        complexity: "low"
        dependencies: []
        default: "off"
        
      - name: "least_response_time"
        description: "Route to server with lowest average response time"
        complexity: "high"
        dependencies: ["response_time_tracking", "metrics_collection"]
        default: "off"
        
      - name: "uri_hash"
        description: "Hash request URI for content-based routing"
        complexity: "medium"
        dependencies: ["http_parsing"]
        default: "off"
        
      - name: "header_hash"
        description: "Hash specific HTTP headers for custom affinity"
        complexity: "medium"
        dependencies: ["http_parsing", "header_manipulation"]
        default: "off"

  protocols:
    name: "Protocol Support"
    description: "Network protocol handling capabilities"
    features:
      - name: "http_1_1"
        description: "HTTP/1.1 protocol support with keep-alive"
        complexity: "medium"
        dependencies: ["tcp_support"]
        default: "on"
        
      - name: "http_2"
        description: "HTTP/2 with multiplexing and server push"
        complexity: "high"
        dependencies: ["http_1_1", "ssl_termination"]
        default: "off"
        
      - name: "http_3_quic"
        description: "HTTP/3 over QUIC protocol"
        complexity: "high"
        dependencies: ["udp_support", "tls_1_3"]
        default: "off"
        
      - name: "https"
        description: "HTTPS support with SSL/TLS termination"
        complexity: "high"
        dependencies: ["http_1_1", "ssl_termination"]
        default: "on"
        
      - name: "tcp_proxy"
        description: "Raw TCP proxy for non-HTTP protocols"
        complexity: "medium"
        dependencies: []
        default: "on"
        
      - name: "udp_proxy"
        description: "UDP proxy with optional connection tracking"
        complexity: "medium"
        dependencies: []
        default: "off"
        
      - name: "websocket"
        description: "WebSocket protocol upgrade and frame handling"
        complexity: "medium"
        dependencies: ["http_1_1", "connection_upgrade"]
        default: "off"
        
      - name: "grpc"
        description: "gRPC protocol support over HTTP/2"
        complexity: "high"
        dependencies: ["http_2", "protobuf_inspection"]
        default: "off"
        
      - name: "mqtt"
        description: "MQTT protocol support for IoT applications"
        complexity: "medium"
        dependencies: ["tcp_proxy"]
        default: "off"
        
      - name: "sip"
        description: "Session Initiation Protocol for VoIP"
        complexity: "high"
        dependencies: ["tcp_proxy", "udp_proxy"]
        default: "off"

  health_checks:
    name: "Health Monitoring"
    description: "Backend server health verification"
    features:
      - name: "tcp_health_check"
        description: "Simple TCP connection health check"
        complexity: "low"
        dependencies: []
        default: "on"
        
      - name: "http_health_check"
        description: "HTTP GET request health check"
        complexity: "medium"
        dependencies: ["http_1_1"]
        default: "on"
        
      - name: "http_post_health_check"
        description: "HTTP POST with custom payload health check"
        complexity: "medium"
        dependencies: ["http_health_check"]
        default: "off"
        
      - name: "custom_script_health_check"
        description: "User-defined script health check"
        complexity: "high"
        dependencies: ["scripting_engine"]
        default: "off"
        
      - name: "passive_health_check"
        description: "Monitor real traffic for health determination"
        complexity: "medium"
        dependencies: ["error_tracking"]
        default: "off"
        
      - name: "ssl_health_check"
        description: "SSL-enabled health checks"
        complexity: "medium"
        dependencies: ["http_health_check", "ssl_client_support"]
        default: "off"
        
      - name: "health_check_intervals"
        description: "Configurable check intervals and retries"
        complexity: "low"
        dependencies: []
        default: "on"
        
      - name: "circuit_breaker"
        description: "Circuit breaker pattern for failed backends"
        complexity: "high"
        dependencies: ["health_check_intervals", "metrics_collection"]
        default: "off"

  security:
    name: "Security Features"
    description: "Security, authentication, and access control"
    features:
      - name: "ssl_termination"
        description: "SSL/TLS termination at load balancer"
        complexity: "high"
        dependencies: []
        default: "off"
        
      - name: "ssl_passthrough"
        description: "Pass SSL/TLS traffic directly to backends"
        complexity: "medium"
        dependencies: ["tcp_proxy"]
        default: "off"
        
      - name: "mutual_tls"
        description: "Client certificate authentication (mTLS)"
        complexity: "high"
        dependencies: ["ssl_termination", "certificate_validation"]
        default: "off"
        
      - name: "sni_support"
        description: "Server Name Indication for multi-domain certificates"
        complexity: "medium"
        dependencies: ["ssl_termination"]
        default: "off"
        
      - name: "tls_1_3"
        description: "TLS 1.3 protocol support"
        complexity: "medium"
        dependencies: ["ssl_termination"]
        default: "off"
        
      - name: "certificate_auto_renewal"
        description: "Automatic certificate renewal (Let's Encrypt)"
        complexity: "high"
        dependencies: ["ssl_termination", "acme_protocol"]
        default: "off"
        
      - name: "rate_limiting"
        description: "Request rate limiting per IP/user"
        complexity: "medium"
        dependencies: ["client_tracking"]
        default: "off"
        
      - name: "ddos_protection"
        description: "DDoS attack detection and mitigation"
        complexity: "high"
        dependencies: ["rate_limiting", "connection_limits", "anomaly_detection"]
        default: "off"
        
      - name: "ip_whitelist"
        description: "IP address whitelist access control"
        complexity: "low"
        dependencies: []
        default: "off"
        
      - name: "ip_blacklist"
        description: "IP address blacklist blocking"
        complexity: "low"
        dependencies: []
        default: "off"
        
      - name: "geo_blocking"
        description: "Geographic location-based blocking"
        complexity: "medium"
        dependencies: ["geoip_database"]
        default: "off"
        
      - name: "waf_rules"
        description: "Web Application Firewall rule engine"
        complexity: "high"
        dependencies: ["http_parsing", "pattern_matching"]
        default: "off"
        
      - name: "bot_detection"
        description: "Automated bot detection and blocking"
        complexity: "high"
        dependencies: ["user_agent_analysis", "behavioral_analysis"]
        default: "off"
        
      - name: "jwt_validation"
        description: "JSON Web Token validation and routing"
        complexity: "medium"
        dependencies: ["http_parsing", "crypto_operations"]
        default: "off"
        
      - name: "oauth2_integration"
        description: "OAuth 2.0 authentication flow support"
        complexity: "high"
        dependencies: ["jwt_validation", "http_redirects"]
        default: "off"

  observability:
    name: "Monitoring & Observability"
    description: "Metrics, logging, and monitoring capabilities"
    features:
      - name: "access_logs"
        description: "HTTP access logging in standard formats"
        complexity: "medium"
        dependencies: ["http_parsing"]
        default: "on"
        
      - name: "error_logs"
        description: "Error and debug logging"
        complexity: "low"
        dependencies: []
        default: "on"
        
      - name: "structured_logs"
        description: "JSON/structured log output"
        complexity: "medium"
        dependencies: ["access_logs"]
        default: "off"
        
      - name: "log_rotation"
        description: "Automatic log file rotation"
        complexity: "low"
        dependencies: []
        default: "off"
        
      - name: "syslog_integration"
        description: "Syslog protocol log shipping"
        complexity: "medium"
        dependencies: ["structured_logs"]
        default: "off"
        
      - name: "prometheus_metrics"
        description: "Prometheus format metrics endpoint"
        complexity: "medium"
        dependencies: ["metrics_collection"]
        default: "off"
        
      - name: "statsd_metrics"
        description: "StatsD protocol metrics export"
        complexity: "medium"
        dependencies: ["metrics_collection"]
        default: "off"
        
      - name: "influxdb_metrics"
        description: "InfluxDB time-series metrics export"
        complexity: "medium"
        dependencies: ["metrics_collection"]
        default: "off"
        
      - name: "distributed_tracing"
        description: "OpenTracing/OpenTelemetry trace propagation"
        complexity: "high"
        dependencies: ["http_parsing", "trace_context"]
        default: "off"
        
      - name: "health_dashboard"
        description: "Built-in web dashboard for monitoring"
        complexity: "high"
        dependencies: ["http_server", "metrics_collection"]
        default: "off"
        
      - name: "real_time_metrics"
        description: "Real-time performance metrics"
        complexity: "medium"
        dependencies: ["metrics_collection"]
        default: "off"
        
      - name: "custom_metrics"
        description: "User-defined custom metrics"
        complexity: "medium"
        dependencies: ["metrics_collection", "scripting_engine"]
        default: "off"
        
      - name: "alerting"
        description: "Built-in alerting based on metrics"
        complexity: "high"
        dependencies: ["metrics_collection", "notification_system"]
        default: "off"

  routing:
    name: "Advanced Routing"
    description: "Intelligent request routing capabilities"
    features:
      - name: "path_based_routing"
        description: "Route based on URL path patterns"
        complexity: "medium"
        dependencies: ["http_parsing", "pattern_matching"]
        default: "off"
        
      - name: "host_based_routing"
        description: "Virtual host routing based on Host header"
        complexity: "medium"
        dependencies: ["http_parsing"]
        default: "off"
        
      - name: "header_based_routing"
        description: "Route based on HTTP headers"
        complexity: "medium"
        dependencies: ["http_parsing", "header_manipulation"]
        default: "off"
        
      - name: "cookie_based_routing"
        description: "Route based on cookie values"
        complexity: "medium"
        dependencies: ["http_parsing", "cookie_management"]
        default: "off"
        
      - name: "query_param_routing"
        description: "Route based on URL query parameters"
        complexity: "medium"
        dependencies: ["http_parsing", "url_parsing"]
        default: "off"
        
      - name: "regex_routing"
        description: "Regular expression-based routing rules"
        complexity: "high"
        dependencies: ["pattern_matching", "regex_engine"]
        default: "off"
        
      - name: "priority_routing"
        description: "Priority-based routing rules"
        complexity: "medium"
        dependencies: ["routing_engine"]
        default: "off"
        
      - name: "canary_routing"
        description: "Canary deployment routing (percentage-based)"
        complexity: "high"
        dependencies: ["weighted_routing", "configuration_management"]
        default: "off"
        
      - name: "blue_green_routing"
        description: "Blue-green deployment routing"
        complexity: "medium"
        dependencies: ["backend_grouping", "configuration_management"]
        default: "off"
        
      - name: "a_b_testing"
        description: "A/B testing traffic splitting"
        complexity: "high"
        dependencies: ["canary_routing", "user_session_tracking"]
        default: "off"
        
      - name: "failover_routing"
        description: "Automatic failover to backup backends"
        complexity: "medium"
        dependencies: ["health_checks", "backend_prioritization"]
        default: "off"

  performance:
    name: "Performance Optimization"
    description: "Features for improving performance and efficiency"
    features:
      - name: "connection_pooling"
        description: "Backend connection pooling and reuse"
        complexity: "high"
        dependencies: ["connection_management"]
        default: "on"
        
      - name: "keep_alive"
        description: "HTTP keep-alive connection reuse"
        complexity: "medium"
        dependencies: ["http_1_1"]
        default: "on"
        
      - name: "http_compression"
        description: "HTTP response compression (gzip, brotli)"
        complexity: "medium"
        dependencies: ["http_parsing", "compression_algorithms"]
        default: "off"
        
      - name: "static_file_caching"
        description: "Cache static files at load balancer"
        complexity: "high"
        dependencies: ["cache_engine", "file_system"]
        default: "off"
        
      - name: "response_caching"
        description: "HTTP response caching with TTL"
        complexity: "high"
        dependencies: ["cache_engine", "cache_invalidation"]
        default: "off"
        
      - name: "request_buffering"
        description: "Buffer client requests before forwarding"
        complexity: "medium"
        dependencies: ["memory_management"]
        default: "off"
        
      - name: "response_buffering"
        description: "Buffer backend responses before sending"
        complexity: "medium"
        dependencies: ["memory_management"]
        default: "on"
        
      - name: "tcp_splice"
        description: "Zero-copy TCP splicing for better performance"
        complexity: "high"
        dependencies: ["linux_kernel_features"]
        default: "off"
        
      - name: "sendfile_support"
        description: "Sendfile system call for static file serving"
        complexity: "medium"
        dependencies: ["static_file_serving"]
        default: "off"
        
      - name: "epoll_kqueue"
        description: "High-performance event notification (epoll/kqueue)"
        complexity: "high"
        dependencies: ["event_loop"]
        default: "on"

  operational:
    name: "Operational Features"
    description: "Operations, management, and deployment features"
    features:
      - name: "hot_reload"
        description: "Configuration reload without dropping connections"
        complexity: "high"
        dependencies: ["configuration_management", "graceful_transitions"]
        default: "off"
        
      - name: "graceful_shutdown"
        description: "Graceful shutdown with connection draining"
        complexity: "medium"
        dependencies: ["connection_tracking"]
        default: "on"
        
      - name: "admin_api"
        description: "RESTful API for runtime management"
        complexity: "high"
        dependencies: ["http_server", "authentication"]
        default: "off"
        
      - name: "cli_management"
        description: "Command-line interface for management"
        complexity: "medium"
        dependencies: []
        default: "on"
        
      - name: "configuration_validation"
        description: "Configuration syntax and semantic validation"
        complexity: "medium"
        dependencies: ["configuration_parser"]
        default: "on"
        
      - name: "backup_recovery"
        description: "Configuration backup and recovery"
        complexity: "medium"
        dependencies: ["configuration_management"]
        default: "off"
        
      - name: "cluster_mode"
        description: "Multi-node clustering for high availability"
        complexity: "high"
        dependencies: ["distributed_consensus", "leader_election"]
        default: "off"
        
      - name: "auto_scaling"
        description: "Automatic scaling based on load"
        complexity: "high"
        dependencies: ["metrics_collection", "cloud_integration"]
        default: "off"
        
      - name: "service_discovery"
        description: "Integration with service discovery systems"
        complexity: "high"
        dependencies: ["consul_integration", "etcd_integration"]
        default: "off"
        
      - name: "docker_integration"
        description: "Docker container integration and discovery"
        complexity: "medium"
        dependencies: ["docker_api"]
        default: "off"
        
      - name: "kubernetes_integration"
        description: "Kubernetes ingress controller functionality"
        complexity: "high"
        dependencies: ["kubernetes_api", "service_discovery"]
        default: "off"

  advanced:
    name: "Advanced Features"
    description: "Sophisticated features for complex deployments"
    features:
      - name: "request_transformation"
        description: "Transform HTTP requests (headers, body, URL)"
        complexity: "high"
        dependencies: ["http_parsing", "template_engine"]
        default: "off"
        
      - name: "response_transformation"
        description: "Transform HTTP responses before sending to client"
        complexity: "high"
        dependencies: ["http_parsing", "template_engine"]
        default: "off"
        
      - name: "request_mirroring"
        description: "Mirror requests to multiple backends for testing"
        complexity: "high"
        dependencies: ["request_duplication"]
        default: "off"
        
      - name: "traffic_shaping"
        description: "Bandwidth throttling and QoS"
        complexity: "high"
        dependencies: ["traffic_control"]
        default: "off"
        
      - name: "protocol_upgrade"
        description: "HTTP to HTTPS redirects and upgrades"
        complexity: "medium"
        dependencies: ["http_redirects", "ssl_termination"]
        default: "off"
        
      - name: "websocket_load_balancing"
        description: "Sticky session load balancing for WebSockets"
        complexity: "high"
        dependencies: ["websocket", "session_affinity"]
        default: "off"
        
      - name: "stream_processing"
        description: "Real-time stream processing capabilities"
        complexity: "high"
        dependencies: ["event_stream", "message_queuing"]
        default: "off"
        
      - name: "edge_computing"
        description: "Edge computing function execution"
        complexity: "high"
        dependencies: ["scripting_engine", "sandboxing"]
        default: "off"
        
      - name: "machine_learning"
        description: "ML-based traffic optimization and routing"
        complexity: "high"
        dependencies: ["ml_inference_engine", "training_data_collection"]
        default: "off"

# Feature dependencies mapping for validation
dependencies:
  connection_tracking:
    description: "Track active connections per backend"
    complexity: "medium"
    
  response_time_tracking:
    description: "Measure and track response times"
    complexity: "medium"
    
  metrics_collection:
    description: "Core metrics collection system"
    complexity: "medium"
    
  http_parsing:
    description: "HTTP protocol parsing and validation"
    complexity: "medium"
    
  header_manipulation:
    description: "HTTP header reading and modification"
    complexity: "medium"
    
  connection_upgrade:
    description: "HTTP connection upgrade handling"
    complexity: "medium"
    
  protobuf_inspection:
    description: "Protocol Buffers message inspection"
    complexity: "high"
    
  scripting_engine:
    description: "Embedded scripting language support"
    complexity: "high"
    
  error_tracking:
    description: "Error detection and tracking system"
    complexity: "medium"
    
  ssl_client_support:
    description: "SSL/TLS client capabilities"
    complexity: "medium"
    
  certificate_validation:
    description: "X.509 certificate validation"
    complexity: "high"
    
  acme_protocol:
    description: "ACME protocol for automatic certificates"
    complexity: "high"
    
  client_tracking:
    description: "Track client connections and requests"
    complexity: "medium"
    
  connection_limits:
    description: "Connection limiting per source"
    complexity: "low"
    
  anomaly_detection:
    description: "Traffic anomaly detection algorithms"
    complexity: "high"
    
  geoip_database:
    description: "Geographic IP location database"
    complexity: "medium"
    
  pattern_matching:
    description: "Pattern matching engine for rules"
    complexity: "medium"
    
  user_agent_analysis:
    description: "HTTP User-Agent analysis"
    complexity: "medium"
    
  behavioral_analysis:
    description: "User behavior analysis system"
    complexity: "high"
    
  crypto_operations:
    description: "Cryptographic operations (signing, verification)"
    complexity: "high"
    
  http_redirects:
    description: "HTTP redirect response generation"
    complexity: "low"
    
  trace_context:
    description: "Distributed tracing context propagation"
    complexity: "medium"
    
  http_server:
    description: "Embedded HTTP server functionality"
    complexity: "medium"
    
  notification_system:
    description: "Alert notification delivery system"
    complexity: "medium"
    
  url_parsing:
    description: "URL parsing and query parameter extraction"
    complexity: "low"
    
  regex_engine:
    description: "Regular expression processing engine"
    complexity: "medium"
    
  routing_engine:
    description: "Core routing decision engine"
    complexity: "high"
    
  weighted_routing:
    description: "Weighted traffic distribution"
    complexity: "medium"
    
  configuration_management:
    description: "Configuration loading and management"
    complexity: "medium"
    
  backend_grouping:
    description: "Backend server grouping and management"
    complexity: "medium"
    
  user_session_tracking:
    description: "User session identification and tracking"
    complexity: "medium"
    
  backend_prioritization:
    description: "Backend server priority assignment"
    complexity: "medium"
    
  connection_management:
    description: "Connection lifecycle management"
    complexity: "medium"
    
  compression_algorithms:
    description: "Data compression algorithm support"
    complexity: "medium"
    
  cache_engine:
    description: "In-memory caching system"
    complexity: "high"
    
  cache_invalidation:
    description: "Cache invalidation and TTL management"
    complexity: "medium"
    
  file_system:
    description: "File system operations and management"
    complexity: "medium"
    
  memory_management:
    description: "Advanced memory management and pooling"
    complexity: "high"
    
  linux_kernel_features:
    description: "Linux-specific kernel features"
    complexity: "high"
    
  static_file_serving:
    description: "Static file serving capabilities"
    complexity: "medium"
    
  event_loop:
    description: "Event-driven programming model"
    complexity: "high"
    
  graceful_transitions:
    description: "Graceful state transitions during changes"
    complexity: "high"
    
  configuration_parser:
    description: "Configuration file parsing"
    complexity: "medium"
    
  distributed_consensus:
    description: "Distributed consensus algorithms (Raft, PBFT)"
    complexity: "high"
    
  leader_election:
    description: "Leader election for cluster coordination"
    complexity: "high"
    
  cloud_integration:
    description: "Cloud provider API integration"
    complexity: "medium"
    
  consul_integration:
    description: "HashiCorp Consul service discovery"
    complexity: "medium"
    
  etcd_integration:
    description: "etcd key-value store integration"
    complexity: "medium"
    
  docker_api:
    description: "Docker API integration"
    complexity: "medium"
    
  kubernetes_api:
    description: "Kubernetes API integration"
    complexity: "high"
    
  template_engine:
    description: "Template processing engine"
    complexity: "medium"
    
  request_duplication:
    description: "Request duplication and mirroring"
    complexity: "medium"
    
  traffic_control:
    description: "Traffic shaping and QoS controls"
    complexity: "high"
    
  session_affinity:
    description: "Session affinity and sticky sessions"
    complexity: "medium"
    
  event_stream:
    description: "Event streaming processing"
    complexity: "high"
    
  message_queuing:
    description: "Message queue integration"
    complexity: "medium"
    
  sandboxing:
    description: "Code execution sandboxing"
    complexity: "high"
    
  ml_inference_engine:
    description: "Machine learning inference engine"
    complexity: "high"
    
  training_data_collection:
    description: "Training data collection for ML"
    complexity: "high"